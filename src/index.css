@import './styles/tokens.css';
@import './styles/global.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Absolute minimal - only dark background */
html {
  background-color: rgb(10, 11, 13);
}

body {
  background-color: rgb(10, 11, 13);
  color: rgb(255, 255, 255);
  margin: 0;
  padding: 0;
}

#root {
  background-color: rgb(10, 11, 13);
  min-height: 100vh;
}

/* OnchainKit styles are managed by its own CSS. Avoid overrides here. */

/* WalletDropdown in Mini Apps: Bottom sheet needs specific fixes */
/* The WalletDropdown uses Radix UI Sheet component in mini apps */
/* Target only when in mini app context (iframe) */
body:has([data-testid="ockSheet"]) {
  /* Mini app specific - ensure sheet works correctly */
}

/* Ensure the bottom sheet dialog is properly sized and scrollable */
/* Ensure it appears above bottom navigation */
[data-testid="ockSheet"][role="dialog"],
[data-radix-portal] [role="dialog"] {
  /* Ensure sheet can display all content */
  max-height: 90vh !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  overscroll-behavior: contain !important;
  /* Ensure wallet dropdown appears above bottom nav (z-40) */
  z-index: 50 !important;
}

/* Fix the inner content wrapper to show all children */
[data-testid="ockSheet"] > div {
  /* Ensure wrapper doesn't clip content */
  display: flex !important;
  flex-direction: column !important;
  min-height: fit-content !important;
  height: auto !important;
}

/* Fix max-height constraint on content container */
[data-testid="ockSheet"] > div > div[class*="max-h-120"],
[data-testid="ockSheet"] > div > div[class*="max-h"] {
  /* Increase max-height to show all content including disconnect button */
  max-height: none !important;
  /* Use min-height instead to ensure all content shows */
  min-height: fit-content !important;
  /* Allow scrolling if content is tall */
  overflow-y: visible !important;
}

/* Ensure Identity container doesn't clip following content */
[data-testid="ockSheet"] [data-testid="ockIdentityLayout_container"] {
  flex-shrink: 0 !important;
}

/* Ensure disconnect button is visible and clickable */
[data-testid="ockSheet"] button[type="button"]:not([aria-expanded]) {
  /* Ensure button is visible */
  visibility: visible !important;
  display: flex !important;
  opacity: 1 !important;
  /* Ensure it doesn't shrink out of view */
  flex-shrink: 0 !important;
  /* Ensure pointer events work */
  pointer-events: auto !important;
  cursor: pointer !important;
  /* Ensure proper spacing */
  margin-top: auto !important;
}

/* Don't override WalletDropdownLink - let OnchainKit handle it completely */
/* Any overrides here interfere with icon alignment */
